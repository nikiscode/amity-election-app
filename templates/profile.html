{% extends "base.html" %}
{% block title %}Profile - Amity Election{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-lg">
  <h2 class="text-3xl font-extrabold mb-6 text-amityBlue text-center">Your Profile</h2>

  <div class="flex flex-col sm:flex-row items-center gap-6">
    <!-- Profile Image -->
    <div class="flex-shrink-0">
      {% if user.profile_image %}
      <img src="{{ url_for('static', path='uploads/profiles/' + user.profile_image) }}"
        alt="Profile Image"
        class="h-40 w-40 rounded-full object-cover border-4 border-amityBlue shadow-md" />
      {% else %}
      <div class="h-40 w-40 flex items-center justify-center rounded-full border-4 border-gray-300 text-gray-400 text-sm bg-gray-100">
        No Image
      </div>
      {% endif %}
    </div>

    <!-- Profile Info -->
    <div class="flex-1 space-y-4 text-gray-700 text-lg">
      <p><span class="font-semibold">Name:</span> {{ user.name }}</p>
      <p><span class="font-semibold">Email:</span> {{ user.email }}</p>

      <!-- Upload new profile image -->
      <form method="POST" action="/profile/upload" enctype="multipart/form-data" class="space-y-4 mt-4">
        <label class="block text-gray-700 font-semibold">Upload/Update Profile Image:</label>
        <input type="file" name="profile_image" accept="image/*"
          class="block w-full border border-gray-300 rounded p-2" required />
        <button type="submit"
          class="bg-amityBlue hover:bg-amityRed text-white px-4 py-2 rounded transition w-full sm:w-auto">
          Upload Image
        </button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
